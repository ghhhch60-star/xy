# XY 应用 v2.0 更新内容

## 🎯 主要更新

### 1. **分区扫描优化** ✅
- 现在基于 `images` 文件夹中的所有 `.img` 文件进行精确匹配
- 支持扫描112个分区（包括 A/B 分区）
- 添加了备用扫描方法，提高兼容性
- 优化了错误提示

### 2. **备份路径更改** ✅  
- 备份现在保存到 **Download** 文件夹
- 完整路径: `/storage/emulated/0/Download/XY_Backups/`
- 更容易通过文件管理器访问
- 备份成功后会显示保存位置提示

### 3. **UI 改进** ✅
- **标题文字改为绿色** - 更醒目的视觉效果
- 分区名称使用等宽字体显示
- 批量备份对话框显示备份路径
- 优化了状态消息显示

## 📱 使用说明

### 备份位置
所有备份文件保存在：
```
/storage/emulated/0/Download/XY_Backups/
└── 20250929/          (日期文件夹)
    ├── abl_a.img      (分区备份)
    ├── abl_a.md5      (校验文件)
    └── abl_a.info     (备份信息)
```

### 支持的分区
完整支持 images 文件夹中的所有分区，包括但不限于：
- 引导分区: abl, xbl, uefi, hyp
- 系统分区: bluetooth, dsp, modem
- 安全分区: keymaster, tz, devcfg
- 配置分区: metadata, misc, param
- OEM分区: oplus_sec, oplusreserve1-5

## 🔧 技术细节

### 分区匹配逻辑
1. 首先尝试列出 `/dev/block/by-name/` 目录
2. 精确匹配 images 文件夹中的分区名
3. 如果第一种方法失败，逐个检查模板分区是否存在

### 备份过程
1. 使用 `dd` 命令进行块级备份
2. 自动生成 MD5 校验和
3. 记录备份信息（时间、设备型号等）

## ⚠️ 注意事项

1. **备份空间**: 确保 Download 文件夹有足够空间（建议至少10GB）
2. **Root权限**: 必须正确授予Root权限才能扫描到分区
3. **备份时间**: 大分区可能需要较长时间，请耐心等待

## 🐛 问题修复

- 修复了分区扫描找不到文件的问题
- 优化了备份路径，更符合Android规范
- 改进了UI配色方案

